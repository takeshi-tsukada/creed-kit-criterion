\section{Coherence and Totality for Profunctors}
So far, we have studied the relationship between known notions, namely the matrix representation and creeds/kits with the jointly-freeness orthogonality.

\begin{definition}
    The \emph{partial orthogonality} \( \orthogonal^{\mathit{coh}} \) and \emph{total orthogonality} \( \orthogonal^{\mathit{tot}} \) on \( \ProfCat \) are defined as follows:
    for \( F \in \ProfCat(I, \Grp) \) and \( G \in \ProfCat(\Grp, I) \),
    \begin{align*}
        F \orthogonal^{\mathit{coh}} G &\quad\defiff\quad F \orthogonal G \mbox{ and } G \circ F \le \ident_I \\ 
        F \orthogonal^{\mathit{tot}} G &\quad\defiff\quad F \orthogonal G \mbox{ and } G \circ F \cong \ident_I,
    \end{align*}
    where for \( H \in \ProfCat(I,I) = (I^\op \times I \to \Set) \cong \Set \), we write \( H \le \ident_I \) if \( H \) is empty or singleton.
    %
    \qed
\end{definition}

\begin{proposition}
    Let \( \Grp \) be an one-object groupoid, \( G \) be subgroups of \( \Grp(a,a) \) and \( H \) be a subgroup of \( \Grp^{\op}(a,a) \).
    Then \( \InducedProf{G} \orthogonal^{\mathit{tot}} \InducedProf{H} \) if and only if \( (G, H) \) forms a strict factorisation system.
\end{proposition}
\begin{proof}
    Assume that \( \InducedProf{H} \circ \InducedProf{G} = \ident_1 \).
    Then, for every \( g, h \in \Grp(a,a) \), we have \( (G \cdot g, h \cdot H) \sim (G, H) \).
    In particular, \( (G \cdot g, H) \sim (G, H) \), so there exists \( k \in \Grp(a,a) \) such that \( (G \cdot g \cdot k, k^{-1} \cdot H) = (G, H) \), i.e.~\( gk \in G \) and \( k^{-1} \in H \).
    So \( g = (gk) k^{-1} \).

    This decomposition is unique.
    Otherwise, we have \( g_1 h_1 = g_2 h_2 \) for some \( g_1, g_2 \in G \) and \( h_1, h_2 \in H \) with \( (g_1, h_1) \neq (g_2, h_2) \).
    Assume \( h_1 \neq h_2 \).
    Then \( g_1 (h_1 h_2^{-1}) = g_2 \in G \), so \( h_1 h_2^{-1} = g_1^{-1} g_2 \in G \).
    So \( h_1 h_2^{-1} \in (G \cap H) \) and \( h_1 h_2^{-1} \neq 1 \), a contradiction.

    Conversely, assume that \( G \) and \( H \) form a strict factorisation system.
    Then \( G \cap H = \{ 1 \} \).
    We show that \( (G \cdot g, h \cdot H) \sim (G, H) \) for every \( g, h \in \Grp(a,a) \).
    We have \( (G \cdot g, h \cdot H) \sim (G \cdot g \cdot h^{-1}, H) \).
    We can decompose \( g h^{-1} = g' h' \) with \( g' \in G \) and \( h' \in H \).
    Then \( (G \cdot g, h \cdot H) \sim (G \cdot g \cdot h^{-1}, H) = (G \cdot g' \cdot h', H) \sim (G \cdot g', h'^{-1} \cdot H) = (G, H) \).
\end{proof}

We write \( \CohProf \) and \( \TotProf \) for the tight orthogonality categories \( T_{\orthogonal^{\mathit{coh}}}(\ProfCat) \) and \( T_{\orthogonal^{\mathit{tot}}}(\ProfCat) \).
% be the slack orthogonality category, where \( f \orthogonal g \) if and only if \( g \circ f = \ident_I \) and this pair satisfies the jointly freeness condition.

\newcommand{\Coh}{\mathbf{Coh}}
\newcommand{\Tot}{\mathbf{Tot}}
\begin{proposition}
    There exists functors \( \CohProf \longrightarrow \Coh \) and \( \TotProf \longrightarrow \Tot \) that preserve the LL structures.
    %
    \qed
\end{proposition}

\begin{lemma}\label{lem:definability:totality-and-bijection}
    Let \( \Grp \) be a single-object groupoid, \( a \in \Grp \) and \( G = \Grp(a,a) \).
    Let \( \creed \) be a trivial totality on \( \Grp \), i.e.~\( \creed(a) = \{ G \} \) and \( \creed^{\bot}(a) = \{ \{ \ident \} \} \).
    Let \( F \colon \creed \profarrow \creed \).
    \begin{itemize}
        \item There exists a gpoup automorphism \( \varpi \colon G \longrightarrow G \) such that \( F \) is induced by the graph of \( \varphi \), i.e.~\( F \cong \InducedProf{K} \) with \( K = \{ (\alpha^{-1}, \varpi(\alpha)) \mid \alpha \in G \} \).
        \item Furthermore, the automorphism \( \varpi \) is an inner automorphism if and only if \( F \cong \ident_{\Grp} \).
    \end{itemize}
    Here, an inner automorphism is a function of the form \( G \ni x \mapsto (g \cdot x \cdot g^{-1}) \in G \) for a fixed \( g \in G \). 
\end{lemma}
\begin{proof}
    \tk{to do: just a calculation}
\end{proof}

\begin{lemma}
    Let \( (F_\Grp)_\Grp \) be a family \( F_\Grp \colon \Grp \profarrow \Grp \) parameterised by groupoid \( \Grp \) such that
    \begin{itemize}
        \item for every functor \( \varphi \colon \Grp \longrightarrow \Grpb \), the following square
        \begin{equation*}
            \xymatrix{
                \Grp \ar[d]_\varphi \ar[r]|{|}^{F_\Grp} \ar@{}[dr]|{\Downarrow} & \Grp \ar[d]^\varphi \\
                \Grpb \ar[r]|{|}_{F_\Grpb} & \Grpb
            }
        \end{equation*}
        has a filling \( 2 \)-cell (in the double category of profunctors), and
        \item \( F_\Grp \colon \creed \profarrow \creed \) for every totality groupoid \( \creed \) with underlying groupoid \( \Grp \).
    \end{itemize}
    Then \( F_\Grp \cong \ident_{\Grp} \) for every \( \Grp \).
\end{lemma}
\begin{proof}
    We first prove the claim for single-object groupoids.
    Then the result can be easily extended to many-object groupoids by using the naturality of the family.
    \tk{to do: fill the details}

    Let \( \Grp \) be a single-object groupoid and \( a \in \Grp \).
    Let \( \creed \) be a totality groupoid defined by \( \creed(a) = \{ \Grp(a,a) \} \) and \( \creed^{\bot}(a) = \{ \{ \ident \} \} \).
    Then \( F_{\Grp} \colon \creed \profarrow \creed \) shows that \( F_{\Grp} = \InducedProf{\{ (\alpha^{-1}, \varpi(\alpha)) \mid \alpha \in \Grp(a,a) \}} \) for some group automorphism \( \varpi \colon \Grp(a,a) \longrightarrow \Grp(a,a) \).
    The naturality condition implies that, for every group embedding \( \delta \colon \Grp(a,a) \longrightarrow \Grpb(b,b) \), the automorphism \( \varpi \) can be extended to an automorphism of \( \Grpb(b,b) \).
    By a result, this means that \( \varpi \) is an inner automorphism.
    This means that \( F_\Grp \cong \ident_{\Grp} \).
\end{proof}

