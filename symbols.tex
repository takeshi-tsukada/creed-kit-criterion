% Luke's macros
\newcommand\set[1]{\{#1\}}
\newcommand\simcl[1]{\widetilde{#1}}
\newcommand\Deri{\mathcal{D}}
\newcommand\Var{\mathit{Var}}
\newcommand\lohide[1]{}
\newcommand\FCF{\hbox{\rm FCF}}
%\newcommand\ndlamy{{\lambda\Y_\oplus}}
\newcommand\ndlamy{{\lambda_{\rm nd}\Y}}

\newcommand{\Powerset}{\mathcal{P}}

\newcommand{\Int}{\mathbb{Z}}
\newcommand{\defeq}{:=}
\newcommand{\defiff}{:\Longleftrightarrow}
\newcommand{\orthogonal}{\mathrel{\bot}}

% \newcommand{\llpar}{\mathbin{\rotatebox[origin=c]{180}{\&}}}
\newcommand{\llpar}{\invamp}

\newcommand{\profarrow}{\mathrel{\relbar\joinrel\mapstochar\rightarrow}}

% general
\newcommand{\red}{\longrightarrow}
\newcommand{\evalto}{\hookrightarrow}
\newcommand{\ident}{\mathrm{id}}
%\newcommand{\sem}[1]{[\![{#1}]\!]}
\newcommand{\sem}[1]{\llbracket{#1}\rrbracket}
\newcommand{\op}{\mathrm{op}}

\newcommand{\TmRef}{\lhd}
\newcommand{\TyRef}{\lhd}
\newcommand{\TmRefInv}{\rhd}

\newcommand{\udstackrel}[3]{\mathrel{\mathop{#3}\limits^{#1}_{#2}}}

\newcommand{\Sym}[1]{\mathfrak{S}_{#1}}

\newcommand{\Seq}[1]{\langle{#1}\rangle}

\newcommand{\Boehm}[1]{\mathit{BT}({#1})}

% category
\newcommand{\FreeTensor}{\mathbb{P}}
\newcommand{\Set}{\mathbf{Set}}

\newcommand{\Rel}{\mathbf{Rel}}
\newcommand{\MRel}{\mathbf{Rel}_{!}}

\newcommand{\ESP}{\mathbf{ESP}}
\newcommand{\Prof}{\mathbf{Prof}}


% terms
\newcommand{\BTT}{\mathtt{t}\!\mathtt{t}}
\newcommand{\BFF}{\mathtt{f}\!\mathtt{f}}

\newcommand{\rembranch}[1]{|{#1}|}

% Types
\newcommand{\TBool}{\mathtt{bool}}
\newcommand{\TNat}{\mathtt{nat}}
\newcommand{\qubit}{\mathbf{qubit}}
\newcommand{\TB}{\mathtt{o}}
\newcommand{\TBB}{\star}

% Terms
\newcommand{\TSkip}{\mathtt{skip}}
\newcommand{\TLet}[3]{\mathtt{let}\,{#1} = {#2}\,\mathtt{in}\,{#3}}
\newcommand{\TNondet}[2]{{#1} \oplus {#2}}
\newcommand{\TBL}[1]{{#1}\oplus\bullet}
\newcommand{\TBR}[1]{\bullet\oplus{#1}}
%% \newcommand{\TBL}[1]{\mathtt{L}; {#1}}
%% \newcommand{\TBR}[1]{\mathtt{R}; {#1}}
\newcommand{\TMatch}[3]{\mathtt{match}\;{#1}\;\mathtt{with}\;{#2} \mapsto {#3}}
%\newcommand{\TIf}[3]{\mathtt{if}\;{#1}\;\mathtt{then}\;{#2}\;\mathtt{else}\;{#3}}
\newcommand{\TIf}[3]{\mathtt{if}\;{#1}\;{#2}\;{#3}}
%% \newcommand{\TIfThen}[2]{\mathtt{if}\;{#1}\;\mathtt{then}\;{#2}}
%% \newcommand{\TIfElse}[2]{\mathtt{if}\;{#1}\;\mathtt{else}\;{#2}}
\newcommand{\TIfThen}[2]{\TIf{#1}{#2}{\bullet}}
\newcommand{\TIfElse}[2]{\TIf{#1}{\bullet}{#2}}
\newcommand{\TSplit}{\mathtt{split}}
\newcommand{\TLetrec}[3]{\mathtt{letrec}\,{#1} = {#2}\,\mathtt{in}\,{#3}}
\newcommand{\TMeas}{\mathtt{meas}}
\newcommand{\TNew}{\mathtt{new}}
\newcommand{\TIszero}{\mathtt{iszero}}
\newcommand{\TSucc}{\mathtt{succ}}
\newcommand{\TPred}{\mathtt{pred}}

\newcommand{\CNat}[1]{\underline{#1}}
\newcommand{\CSucc}{\mathtt{s}}
\newcommand{\CPred}{\mathtt{p}}
\newcommand{\Ifzero}[3]{\mathtt{ifzero}\,{#1}\,\mathtt{then}\,{#2}\,\mathtt{else}\,{#3}}

\newcommand{\Y}{\mathbf{Y}}
\newcommand{\CRand}{\mathtt{rand}}

\newcommand{\NF}{\mathsf{nf}}

\newcommand{\rcase}[3]{\mathtt{case}\,{#1}\,\mathtt{of}\,{#2}\,\Rightarrow\,{#3}}


%% Resource calculus
\newcommand{\flex}[1]{(\!|{#1}|\!)} % the translation from rigid terms to flexible terms
\newcommand{\Taylor}[1]{{#1}^*}

\newcommand{\Unmark}[1]{\ulcorner{#1}\urcorner}


\newcommand{\Deriv}{\mathcal{D}}
\newcommand{\CDev}[1]{\mathcal{C}({#1})}

\newcommand{\isoact}[2]{{#2}[{#1}]}

